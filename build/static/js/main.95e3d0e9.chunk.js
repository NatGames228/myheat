(this.webpackJsonpmyheat=this.webpackJsonpmyheat||[]).push([[0],{20:function(t,n,e){t.exports=e(30)},30:function(t,n,e){"use strict";e.r(n);var a=e(0),i=e.n(a),r=e(11),o=e.n(r),u=e(1),c=e(2),s=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440;return"".concat(t/n*100,"vw")};function d(){var t=Object(u.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  :root {\n      font-size: ",";\n\n      @media (min-width: 768px) {\n        font-size: ",";\n      }\n\n      @media (min-width: 1024px) {\n        font-size: ",";\n      }\n    }\n"]);return d=function(){return t},t}var m=Object(c.a)(d(),s(24),s(18),s(16)),l=e(4),h=e(14),f=e(16),p=e(15),w=e(17),b=e(6),x=e(3),g=e.n(x),v=e(5),D=function t(){var n=this;Object(l.a)(this,t),this._apiBase="https://t3.myheat.net/api/objects/",this._apiKey="",this.data=[],this.isNew=!0,this.getResource=function(){var t=Object(v.a)(g.a.mark((function t(n){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(e.status));case 5:return t.next=7,e.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),this.updateData=Object(v.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getResource("".concat(n._apiBase).concat(n._apiKey));case 2:(e=t.sent).new||!n.data.length?n.data=e.data.map(n._transformData):n.data.forEach((function(t){var a=e.data.find((function(n){return n.id===t.id}));a&&(t.temperature=n._transformData(a).temperature)})),n.isNew=e.new,console.log(new Date),console.log(n.data,n.isNew),console.log(e.data.sort((function(t,n){return t.id>n.id?1:t.id===n.id?0:t.id<n.id?-1:void 0})),e.new);case 8:case"end":return t.stop()}}),t)}))),this.getAllData=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.updateData();case 2:return t.abrupt("return",{data:n.data,isNew:n.isNew});case 3:case"end":return t.stop()}}),t)}))),this.getData=function(){return n.data},this.isNew=function(){return n.isNew},this._transformData=function(t){return{id:t.id,name:t.name,temperature:t.temperature.toFixed(1)}}};function j(){var t=Object(u.a)(["\n  margin-top: ",";\n  color: #666;\n  font-size: 1.5rem;\n\n  @media (min-width: 1024px) {\n    font-size: 1rem;\n  }\n"]);return j=function(){return t},t}function E(){var t=Object(u.a)(["\n  color: #333;\n  font-size: 2rem;\n  text-align: center;\n\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n  }\n"]);return E=function(){return t},t}function y(){var t=Object(u.a)(["\n  display: flex;\n  width: ",";\n  min-height: ",";\n  flex-direction: column;\n  padding: ",";\n  margin: ",";\n  // background-color: ",";\n  background-color: #9FEACD;\n  height: 100%;\n\n  @media (min-width: 768px) {\n    width: ",";\n    min-height: ",";\n    height: 100%;\n  }\n\n  @media (min-width: 1024px) {\n    width: ",";\n    min-height: ",";\n    height: 100%;\n  }\n"]);return y=function(){return t},t}function O(){var t=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: ",";\n  max-width: 100%;\n\n  @media (min-width: 1024px) {\n    flex-wrap: nowrap;\n  }\n"]);return O=function(){return t},t}var k=c.b.div(O(),s(32)),N=c.b.div(y(),s(320,320),s(200,320),s(20),s(20),(function(t){return t.bgColor}),s(320,768),s(200,768),s(500),s(300)),C=c.b.h3(E()),z=c.b.p(j(),s(20)),A=function(t){function n(t){var e;return Object(l.a)(this,n),(e=Object(f.a)(this,Object(p.a)(n).call(this,t))).state={data:[],isNew:!1},e.myHeatService=new D,e.onDataLoaded=function(t){e.setState({data:t.data,isNew:t.isNew})},e.updateData=function(){e.myHeatService.getAllData().then(e.onDataLoaded)},e}return Object(w.a)(n,t),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.updateData(),this.timerId=setInterval(this.updateData,15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var t=this.state,n=t.data;t.isNew;return i.a.createElement(k,null,n.map((function(t){return i.a.createElement(N,{key:t.id},i.a.createElement(C,null,t.name),i.a.createElement(z,null,"id: ",t.id),i.a.createElement(z,null,"temperature: ",t.temperature," \u2103"))})))}}]),n}(b.Component),B="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, sed iure blanditiis voluptatum nulla quidem minus quam tempora obcaecati necessitatibus inventore! Vitae totam quam pariatur facilis fugit maxime adipisci eaque.",_=[{id:Math.random(),title:"Box titulo 1",text:B,bgColor:"#D5CAFA"},{id:Math.random(),title:"Box titulo 2",text:B,bgColor:"#EDA9A9"},{id:Math.random(),title:"Box titulo 3",text:B,bgColor:"#F2EE8D"},{id:Math.random(),title:"Box titulo 4",text:B,bgColor:"#9FEACD"}];var F=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m,null),i.a.createElement(A,{boxData:_}))};o.a.render(i.a.createElement(F,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.95e3d0e9.chunk.js.map